---
title: Deprecated的正确姿势
categories: sticker
---
<p>问题描述：</p>
<p>
	在引入新框架替换系统原有的某个功能的模块的时候，发现整个系统大面积地依赖于原有的功能模块，原有功能模块的核心类在整个系统的代码中出现了400余次。
	出现的次数过多使得在每个调用点对代码进行更改是不可能做到的，即使做到了也需要对整个系统重新进行测试，这将带来莫大的测试成本和系统隐患。
</p>
<p>解答：</p>
<p>
	正确的姿势应该是使用<code>@Deprecated</code>注解将原有功能模块的相关类和方法标记为“过时”，
	在原有的每个常用类和常用方法的JavaDoc里用<code>@deprecated</code>标签提示开发者该接口已过时，
	并写上新的解决方案，以引导开发者在编写新的代码时转而使用新的功能模块。
</p>
<p>
	若新的功能模块与旧的功能模块实在是一山不容二虎，那么与其修改现有代码所有对旧功能模块的调用，倒不如直接修改旧功能模块的对外工具类，
	使之直接使用新的功能模块来实现相应的功能。如此一来，尽管现有代码仍然保留着对旧功能模块对外工具类的调用，但真正实现逻辑的已经变成了新的功能模块，
	旧功能模块的实现代码即可安全地从系统中移除了。
</p>
