<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Groovy 教程 - 与 Java 的差异 - Robert Peng&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="呆呆的博客"><meta name="msapplication-TileImage" content="/img/avatar.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="呆呆的博客"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="这是一篇译文，读者可前往 Groovy Getting Started - Differences with Java 阅读原文。  Groovy 语言在设计时便考虑到要尽可能让语言本身令 Java 程序员感到自然。如此，我们在设计 Groovy 时则尽可能让其少出现出人意料的地方，尤其是对于那些有着 Java 背景的开发者。  在这篇文章中我们将列举几处 Java 和 Groovy 的显著差异。"><meta property="og:type" content="blog"><meta property="og:title" content="Groovy 教程 - 与 Java 的差异"><meta property="og:url" content="https://mr-dai.github.io/groovy-differences-with-java/"><meta property="og:site_name" content="Robert Peng&#039;s Blog"><meta property="og:description" content="这是一篇译文，读者可前往 Groovy Getting Started - Differences with Java 阅读原文。  Groovy 语言在设计时便考虑到要尽可能让语言本身令 Java 程序员感到自然。如此，我们在设计 Groovy 时则尽可能让其少出现出人意料的地方，尤其是对于那些有着 Java 背景的开发者。  在这篇文章中我们将列举几处 Java 和 Groovy 的显著差异。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://mr-dai.github.io/img/og_image.png"><meta property="article:published_time" content="2018-04-23T16:00:00.000Z"><meta property="article:modified_time" content="2021-05-16T16:01:14.564Z"><meta property="article:author" content="Robert Peng"><meta property="article:tag" content="Groovy"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://mr-dai.github.io/groovy-differences-with-java/"},"headline":"Groovy 教程 - 与 Java 的差异","image":["https://mr-dai.github.io/img/og_image.png"],"datePublished":"2018-04-23T16:00:00.000Z","dateModified":"2021-05-16T16:01:14.564Z","author":{"@type":"Person","name":"Robert Peng"},"publisher":{"@type":"Organization","name":"Robert Peng's Blog","logo":{"@type":"ImageObject","url":"https://mr-dai.github.io/img/avatar.png"}},"description":"这是一篇译文，读者可前往 Groovy Getting Started - Differences with Java 阅读原文。  Groovy 语言在设计时便考虑到要尽可能让语言本身令 Java 程序员感到自然。如此，我们在设计 Groovy 时则尽可能让其少出现出人意料的地方，尤其是对于那些有着 Java 背景的开发者。  在这篇文章中我们将列举几处 Java 和 Groovy 的显著差异。"}</script><link rel="canonical" href="https://mr-dai.github.io/groovy-differences-with-java/"><link rel="icon" href="/img/avatar.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/avatar.png" alt="Robert Peng&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="我的 Github" href="https://github.com/Mr-Dai"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-23T16:00:00.000Z" title="4/23/2018, 4:00:00 PM">2018-04-24</time>发表</span><span class="level-item"><time dateTime="2021-05-16T16:01:14.564Z" title="5/16/2021, 4:01:14 PM">2021-05-17</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Groovy/">Groovy</a></span></div></div><h1 class="title is-3 is-size-4-mobile">Groovy 教程 - 与 Java 的差异</h1><div class="content"><p>这是一篇译文，读者可前往 <a target="_blank" rel="noopener" href="http://www.groovy-lang.org/differences.html">Groovy Getting Started - Differences with Java</a> 阅读原文。</p>
<!-- Groovy tries to be as natural as possible for Java developers. We’ve tried to follow the principle of least surprise when designing Groovy, particularly for developers learning Groovy who’ve come from a Java background. -->
<p>Groovy 语言在设计时便考虑到要尽可能让语言本身令 Java 程序员感到自然。如此，我们在设计 Groovy 时则尽可能让其少出现出人意料的地方，尤其是对于那些有着 Java 背景的开发者。</p>
<!-- Here we list all the major differences between Java and Groovy. -->
<p>在这篇文章中我们将列举几处 Java 和 Groovy 的显著差异。</p>
<span id="more"></span>

<h2 id="1-默认引入"><a href="#1-默认引入" class="headerlink" title="1 默认引入"></a>1 默认引入</h2><p>如下的这些包和类都会被默认引入 —— 也就是说，你不需要显式的 <code>import</code> 语句即可使用它们：</p>
<ul>
<li><code>java.io.*</code></li>
<li><code>java.lang.*</code></li>
<li><code>java.math.BigDecimal</code></li>
<li><code>java.math.BigInteger</code></li>
<li><code>java.net.*</code></li>
<li><code>java.util.*</code></li>
<li><code>groovy.lang.*</code></li>
<li><code>groovy.util.*</code></li>
</ul>
<h2 id="2-多方法"><a href="#2-多方法" class="headerlink" title="2 多方法"></a>2 多方法</h2><!-- In Groovy, the methods which will be invoked are chosen at runtime. This is called runtime dispatch or multi-methods. It means that the method will be chosen based on the types of the arguments at runtime. In Java, this is the opposite: methods are chosen at compile time, based on the declared types. -->
<p>在 Groovy 中，方法会在运行时被选择并调用。这种机制被称为<strong>运行时分发</strong>（Runtime Dispatch）或<strong>多方法</strong>（Multi-methods）。这意味着具体被调用的方法会在运行时根据实参的类型被挑选。在 Java 中则是截然相反：具体被调用的方法会在编译期根据实参的声明类型被挑选。</p>
<!-- The following code, written as Java code, can be compiled in both Java and Groovy, but it will behave differently: -->
<p>如下 Java 代码可以同时在 Java 环境和 Groovy 环境中编译运行，但却会有不同的行为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">method</span><span class="params">(String arg)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">method</span><span class="params">(Object arg)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">Object o = <span class="string">&quot;Object&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> result = method(o);</span><br></pre></td></tr></table></figure>

<p>在 Java 中，你会有：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assertEquals(<span class="number">2</span>, result);</span><br></pre></td></tr></table></figure>

<p>而在 Groovy 中则会有：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assertEquals(<span class="number">1</span>, result);</span><br></pre></td></tr></table></figure>

<!-- That is because Java will use the static information type, which is that o is declared as an Object, whereas Groovy will choose at runtime, when the method is actually called. Since it is called with a String, then the String version is called. -->
<p>这是因为 Java 会利用静态信息类型（变量 <code>o</code> 被声明为 <code>Object</code>）来挑选被调用的方法，而 Groovy 则会在方法被确实调用的运行时才进行选择。由于调用时所使用的实参是一个 <code>String</code>，那么 <code>String</code> 版本的方法就被调用了。</p>
<h2 id="3-数组初始化语句"><a href="#3-数组初始化语句" class="headerlink" title="3 数组初始化语句"></a>3 数组初始化语句</h2><!-- In Groovy, the { …​ } block is reserved for closures. That means that you cannot create array literals with this syntax: -->
<p>在 Groovy 中，<code>&#123;...&#125;</code> 块被保留用作定义闭包。也就是说，你不能像如下语句这样来创建数组字面量：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;;</span><br></pre></td></tr></table></figure>

<p>你需要这样：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<h2 id="4-包可见性"><a href="#4-包可见性" class="headerlink" title="4 包可见性"></a>4 包可见性</h2><p>在 Groovy 中，不给出任何修饰符并不会使得一个类的域像 Java 那样仅在该包内可见：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line">    String name</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在 Groovy 中这样会创建出一个<strong>属性</strong>（Property），也就是一个 <code>private</code> 域和对应的 Getter 和 Setter 方法。</p>
<p>通过为域添加上 <code>@PackageScope</code> 注解即可将其声明为包内可见：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line">    <span class="meta">@PackageScope</span> String name</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-ARM-块"><a href="#5-ARM-块" class="headerlink" title="5 ARM 块"></a>5 ARM 块</h2><!-- ARM (Automatic Resource Management) block from Java 7 are not supported in Groovy. Instead, Groovy provides various methods relying on closures, which have the same effect while being more idiomatic. For example: -->
<p>Groovy 不支持 Java7 的自动资源管理（Automatic Resource Management, ARM）代码块，而是提供了各种不同的利用了闭包的方法，使得我们可以使用更简洁的写法来达成同样的效果。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Path file = Paths.get(<span class="string">&quot;/path/to/file&quot;</span>);</span><br><span class="line">Charset charset = Charset.forName(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"><span class="keyword">try</span> (BufferedReader reader = Files.newBufferedReader(file, charset)) &#123;</span><br><span class="line">    String line;</span><br><span class="line">    <span class="keyword">while</span> ((line = reader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        System.out.println(line);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可被写作：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> File(<span class="string">&#x27;/path/to/file&#x27;</span>).eachLine(<span class="string">&#x27;UTF-8&#x27;</span>) &#123;</span><br><span class="line">   println it</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者，如果你想让它看起来更像 Java 的话，也可以这样写：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> File(<span class="string">&#x27;/path/to/file&#x27;</span>).withReader(<span class="string">&#x27;UTF-8&#x27;</span>) &#123; reader -&gt;</span><br><span class="line">   reader.eachLine &#123;</span><br><span class="line">       println it</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-内部类"><a href="#6-内部类" class="headerlink" title="6 内部类"></a>6 内部类</h2><!-- The implementation of anonymous inner classes and nested classes follows the Java lead, but you should not take out the Java Language Spec and keep shaking the head about things that are different. The implementation done looks much like what we do for groovy.lang.Closure, with some benefits and some differences. Accessing private fields and methods for example can become a problem, but on the other hand local variables don’t have to be final. -->
<p>Groovy 的匿名内部类和嵌套类在某种程度上以 Java 为指导，但你不需要再翻阅 Java 语言规范并苦想二者之间的差异。实际的实现实际上与 <code>groovy.lang.Closure</code> 很接近，只是还多了一点其他的不同，例如无法访问私有的域或方法，但局部变量则不需要被声明为 <code>final</code> 了。</p>
<h3 id="6-1-静态内部类"><a href="#6-1-静态内部类" class="headerlink" title="6.1 静态内部类"></a>6.1 静态内部类</h3><p>如下为静态内部类的案例：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> &#123;</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> A.B()</span><br></pre></td></tr></table></figure>

<!-- The usage of static inner classes is the best supported one. If you absolutely need an inner class, you should make it a static one. -->
<p>实际上，Groovy 对静态内部类的支持是最好的，因此如果你确实需要一个内部类的话，你应该将其声明为静态的。</p>
<h3 id="6-2-匿名内部类"><a href="#6-2-匿名内部类" class="headerlink" title="6.2 匿名内部类"></a>6.2 匿名内部类</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.CountDownLatch</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit</span><br><span class="line"></span><br><span class="line">CountDownLatch called = <span class="keyword">new</span> CountDownLatch(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">Timer timer = <span class="keyword">new</span> Timer()</span><br><span class="line">timer.schedule(<span class="keyword">new</span> TimerTask() &#123;</span><br><span class="line">    <span class="keyword">void</span> run() &#123;</span><br><span class="line">        called.countDown()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> called.await(<span class="number">10</span>, TimeUnit.SECONDS)</span><br></pre></td></tr></table></figure>

<h3 id="6-3-创建非静态内部类的实例"><a href="#6-3-创建非静态内部类的实例" class="headerlink" title="6.3 创建非静态内部类的实例"></a>6.3 创建非静态内部类的实例</h3><p>在 Java 中，你可以这样：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Y</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">X</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> X <span class="title">foo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> X();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> X <span class="title">createX</span><span class="params">(Y y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> y.<span class="function">new <span class="title">X</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Groovy 并不支持像 <code>y.new X()</code> 这样的语法。你应该像如下代码那样，写成 <code>new X(y)</code>：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Y</span> &#123;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">X</span> &#123;</span>&#125;</span><br><span class="line">    <span class="keyword">public</span> X foo() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> X()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> X createX(Y y) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> X(y)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<!-- Caution though, Groovy supports calling methods with one parameter without giving an argument. The parameter will then have the value null. Basically the same rules apply to calling a constructor. There is a danger that you will write new X() instead of new X(this) for example. Since this might also be the regular way we have not yet found a good way to prevent this problem. -->
<p>值得注意的是，Groovy 允许你在调用只有一个参数的方法时不给出任何实参。如此一来参数值会被设置为 <code>null</code>。对构造器的调用同样遵循此规则。因此你有可能会写成 <code>new X()</code> 而不是 <code>new X(this)</code>。由于这样做在某种情况下也有可能是合理的，因此我们还没有找出一个很好的办法来避免这样的问题。</p>
<h2 id="7-Lambda-表达式"><a href="#7-Lambda-表达式" class="headerlink" title="7 Lambda 表达式"></a>7 Lambda 表达式</h2><p>Java8 支持 Lambda 表达式和方法引用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Runnable run = () -&gt; System.out.println(<span class="string">&quot;Run&quot;</span>);</span><br><span class="line">list.forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<p>Java8 的 Lambda 表达式在某种程度上可以被看作是匿名内部类。Groovy 不支持这样的语法，但支持闭包：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Runnable run = &#123; println <span class="string">&#x27;run&#x27;</span> &#125;</span><br><span class="line">list.each &#123; println it &#125; <span class="comment">// or list.each(this.&amp;println)</span></span><br></pre></td></tr></table></figure>

<h2 id="8-GString"><a href="#8-GString" class="headerlink" title="8 GString"></a>8 GString</h2><!-- As double-quoted string literals are interpreted as GString values, Groovy may fail with compile error or produce subtly different code if a class with String literal containing a dollar character is compiled with Groovy and Java compiler. -->
<p>由于带双引号的字符串字面量会被解析为 <code>GString</code> 对象，如果一个类包含一个 <code>String</code> 字面量其中包含了美金符号，Groovy 可能会无法编译或是给出与 Java 编译器所给出的大相径庭的代码。</p>
<!-- While typically, Groovy will auto-cast between GString and String if an API declares the type of a parameter, beware of Java APIs that accept an Object parameter and then check the actual type. -->
<p>尽管 Groovy 能够根据 API 声明的参数类型来对 <code>GString</code><br>对象和 <code>String</code> 对象家进行自动转换，你仍然需要注意那些将参数类型声明为 <code>Object</code> 但在方法体内对实参类型进行判断的 Java API。</p>
<h2 id="9-String-和-Character-字面量"><a href="#9-String-和-Character-字面量" class="headerlink" title="9 String 和 Character 字面量"></a>9 <code>String</code> 和 <code>Character</code> 字面量</h2><!-- Singly-quoted literals in Groovy are used for String, and double-quoted result in String or GString, depending whether there is interpolation in the literal. -->
<p>在 Groovy 中，带单引号的字符串字面量被用作 <code>String</code> 对象的创建，而带双引号的字符串字面量则会创建出 <code>GString</code> 或 <code>String</code> 对象，取决于字面两种是否包含插值占位符。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span> <span class="string">&#x27;c&#x27;</span>.getClass()==String</span><br><span class="line"><span class="keyword">assert</span> <span class="string">&quot;c&quot;</span>.getClass()==String</span><br><span class="line"><span class="keyword">assert</span> <span class="string">&quot;c$&#123;1&#125;&quot;</span>.getClass() <span class="keyword">in</span> GString</span><br></pre></td></tr></table></figure>

<!-- Groovy will automatically cast a single-character String to char only when assigning to a variable of type char. When calling methods with arguments of type char we need to either cast explicitly or make sure the value has been cast in advance. -->
<p>只有当赋值给一个类型为 <code>char</code> 的变量时，Groovy 才会自动地将一个只包含一个字符的 <code>String</code> 转换为 <code>char</code> 类型。当你想调用一个参数类型为 <code>char</code> 的方法时，你需要显式地对类型进行转换或者预先进行类型转换。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> a=<span class="string">&#x27;a&#x27;</span></span><br><span class="line"><span class="keyword">assert</span> Character.digit(a, <span class="number">16</span>)==<span class="number">10</span> : <span class="string">&#x27;But Groovy does boxing&#x27;</span></span><br><span class="line"><span class="keyword">assert</span> Character.digit((<span class="keyword">char</span>) <span class="string">&#x27;a&#x27;</span>, <span class="number">16</span>)==<span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">assert</span> Character.digit(<span class="string">&#x27;a&#x27;</span>, <span class="number">16</span>)==<span class="number">10</span></span><br><span class="line">  <span class="keyword">assert</span> <span class="attr">false:</span> <span class="string">&#x27;Need explicit cast&#x27;</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(MissingMethodException e) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<!-- Groovy supports two styles of casting and in the case of casting to char there are subtle differences when casting a multi-char strings. The Groovy style cast is more lenient and will take the first character, while the C-style cast will fail with exception. -->
<p>Groovy 支持两种不同的类型转换语法，而当转换包含多个字符的字符串至 <code>char</code> 时，两种语法会有不同的表现。Groovy 风格的类型转换会更为智能，只以字符串的第一个字符作为转换结果，而 C 风格的强制类型转换则会直接抛出异常。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for single char strings, both are the same</span></span><br><span class="line"><span class="keyword">assert</span> ((<span class="keyword">char</span>) <span class="string">&quot;c&quot;</span>).<span class="keyword">class</span>==Character</span><br><span class="line"><span class="keyword">assert</span> (<span class="string">&quot;c&quot;</span> <span class="keyword">as</span> <span class="keyword">char</span>).<span class="keyword">class</span>==Character</span><br><span class="line"></span><br><span class="line"><span class="comment">// for multi char strings they are not</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  ((<span class="keyword">char</span>) <span class="string">&#x27;cx&#x27;</span>) == <span class="string">&#x27;c&#x27;</span></span><br><span class="line">  <span class="keyword">assert</span> <span class="attr">false:</span> <span class="string">&#x27;will fail - not castable&#x27;</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(GroovyCastException e) &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">assert</span> (<span class="string">&#x27;cx&#x27;</span> <span class="keyword">as</span> <span class="keyword">char</span>) == <span class="string">&#x27;c&#x27;</span></span><br><span class="line"><span class="keyword">assert</span> <span class="string">&#x27;cx&#x27;</span>.asType(<span class="keyword">char</span>) == <span class="string">&#x27;c&#x27;</span>	</span><br></pre></td></tr></table></figure>

<h2 id="10-基本数据类型和包装类"><a href="#10-基本数据类型和包装类" class="headerlink" title="10 基本数据类型和包装类"></a>10 基本数据类型和包装类</h2><!-- Because Groovy uses Objects for everything, it autowraps references to primitives. Because of this, it does not follow Java’s behavior of widening taking priority over boxing. Here’s an example using int -->
<p>由于在 Groovy 中所有东西都是对象，Groovy 会对对基本数据类型的引用进行<a target="_blank" rel="noopener" href="http://docs.groovy-lang.org/latest/html/documentation/core-object-orientation.html#_primitive_types">自动包装</a>。鉴于此，Groovy 不会像 Java 那样让类型扩充享有比装箱更高的优先级。例如：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i</span><br><span class="line">m(i)</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> m(<span class="keyword">long</span> l) &#123;           <span class="comment">// 注1</span></span><br><span class="line">  println <span class="string">&quot;in m(long)&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> m(Integer i) &#123;        <span class="comment">// 注2</span></span><br><span class="line">  println <span class="string">&quot;in m(Integer)&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table style="width: 100%">
  <colgroup>
    <col style="width: 5%">
    <col style="width: 95%">
  </colgroup>
  <tr>
    <td>1</td>
    <td>如果是 Java 的话就会调用这个方法，因为类型扩充比装拆箱享有更高的优先级</td>
  </tr>
  <tr>
    <td>2</td>
    <td>Groovy 则会调用这个方法，因为所有对基本数据类型变量的引用的类型实际上都是为其对应的包装类</td>
  </tr>
</table>

<h2 id="11-的行为"><a href="#11-的行为" class="headerlink" title="11 == 的行为"></a>11 <code>==</code> 的行为</h2><!-- In Java == means equality of primitive types or identity for objects. In Groovy == translates to a.compareTo(b)==0, if they are Comparable, and a.equals(b) otherwise. To check for identity, there is is. E.g. a.is(b). -->
<p>在 Java 中，<code>==</code> 用于检验基本数据类型的相等性和引用的一致性。而在 Groovy 中，对于 <code>Comparable</code> 类，<code>==</code> 会被理解为 <code>a.compareTo(b) == 0</code>，否则理解为 <code>a.equals(b)</code>。要检测引用的一致性，需要这样写：<code>a.is(b)</code>。</p>
<h2 id="12-转换"><a href="#12-转换" class="headerlink" title="12 转换"></a>12 转换</h2><!-- Java does automatic widening and narrowing conversions. -->
<p>Java 会自动进行类型扩充或类型收窄的<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html">转换</a>。</p>
<table class="table">
  <tr>
    <th></th>
    <th>转换至</th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
  <tr>
    <th>转换自</th>
    <th><code>boolean</code></th>
    <th><code>byte</code></th>
    <th><code>short</code></th>
    <th><code>char</code></th>
    <th><code>int</code></th>
    <th><code>long</code></th>
    <th><code>float</code></th>
    <th><code>double</code></th>
  </tr>
  <tr>
    <th><code>boolean</code></th>
    <td>-</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
  </tr>
  <tr>
    <th><code>byte</code></th>
    <td>N</td>
    <td>-</td>
    <td>Y</td>
    <td>C</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>short</code></th>
    <td>N</td>
    <td>C</td>
    <td>-</td>
    <td>C</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>char</code></th>
    <td>N</td>
    <td>C</td>
    <td>C</td>
    <td>-</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>int</code></th>
    <td>N</td>
    <td>C</td>
    <td>C</td>
    <td>C</td>
    <td>-</td>
    <td>Y</td>
    <td>T</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>long</code></th>
    <td>N</td>
    <td>C</td>
    <td>C</td>
    <td>C</td>
    <td>C</td>
    <td>-</td>
    <td>T</td>
    <td>T</td>
  </tr>
  <tr>
    <th><code>float</code></th>
    <td>N</td>
    <td>C</td>
    <td>C</td>
    <td>C</td>
    <td>C</td>
    <td>C</td>
    <td>-</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>double</code></th>
    <td>N</td>
    <td>C</td>
    <td>C</td>
    <td>C</td>
    <td>C</td>
    <td>C</td>
    <td>C</td>
    <td>-</td>
  </tr>
</table>

<!-- * 'Y' indicates a conversion Java can make, 'C' indicates a conversion Java can make when there is an explicit cast, 'T` indicates a conversion Java can make but data is truncated, 'N' indicates a conversion Java can’t make. -->
<p>* <code>&#39;Y&#39;</code> 即指 Java 可以自动执行该转换，<code>&#39;C&#39;</code> 即指 Java 可在显式声明了强制类型转换时执行该转换，<code>&#39;T&#39;</code> 即指 Java 可执行该转换但会导致有效数据被删节，<code>&#39;N&#39;</code> 即指 Java 无法执行该转换。</p>
<p>Groovy 则大大扩充了这些转换规则。</p>
<table class="table">
  <tr>
    <th></th>
    <th>转换至</th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
  <tr>
    <th>转换自</th>
    <th><code>boolean</code></th>
    <th><code>Boolean</code></th>
    <th><code>byte</code></th>
    <th><code>Byte</code></th>
    <th><code>short</code></th>
    <th><code>Short</code></th>
    <th><code>char</code></th>
    <th><code>Character</code></th>
    <th><code>int</code></th>
    <th><code>Integer</code></th>
    <th><code>long</code></th>
    <th><code>Long</code></th>
    <th><code>BigInteger</code></th>
    <th><code>float</code></th>
    <th><code>Float</code></th>
    <th><code>double</code></th>
    <th><code>Double</code></th>
    <th><code>BigDecimal</code></th>
  </tr>
  <tr>
    <th><code>boolean</code></th>
    <td>-</td>
    <td>B</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
  </tr>
  <tr>
    <th><code>Boolean</code></th>
    <td>B</td>
    <td>-</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
    <td>N</td>
  </tr>
  <tr>
    <th><code>byte</code></th>
    <td>T</td>
    <td>T</td>
    <td>-</td>
    <td>B</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>D</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>Byte</code></th>
    <td>T</td>
    <td>T</td>
    <td>B</td>
    <td>-</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>D</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>short</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>-</td>
    <td>B</td>
    <td>Y</td>
    <td>D</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>Short</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>T</td>
    <td>B</td>
    <td>-</td>
    <td>Y</td>
    <td>D</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>char</code></th>
    <td>T</td>
    <td>T</td>
    <td>Y</td>
    <td>D</td>
    <td>Y</td>
    <td>D</td>
    <td>-</td>
    <td>D</td>
    <td>Y</td>
    <td>D</td>
    <td>Y</td>
    <td>D</td>
    <td>D</td>
    <td>Y</td>
    <td>D</td>
    <td>Y</td>
    <td>D</td>
    <td>D</td>
  </tr>
  <tr>
    <th><code>Character</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>-</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
  </tr>
  <tr>
    <th><code>int</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>Y</td>
    <td>D</td>
    <td>-</td>
    <td>B</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>Integer</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>Y</td>
    <td>D</td>
    <td>B</td>
    <td>-</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>long</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>Y</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>-</td>
    <td>B</td>
    <td>Y</td>
    <td>T</td>
    <td>T</td>
    <td>T</td>
    <td>T</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>Long</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>T</td>
    <td>Y</td>
    <td>D</td>
    <td>D</td>
    <td>T</td>
    <td>B</td>
    <td>-</td>
    <td>Y</td>
    <td>T</td>
    <td>T</td>
    <td>T</td>
    <td>T</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>BigInteger</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>-</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>T</td>
  </tr>
  <tr>
    <th><code>float</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>-</td>
    <td>B</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>Float</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>T</td>
    <td>D</td>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>T</td>
    <td>D</td>
    <td>T</td>
    <td>D</td>
    <td>B</td>
    <td>-</td>
    <td>Y</td>
    <td>Y</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>double</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>-</td>
    <td>B</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>Double</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>T</td>
    <td>D</td>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>T</td>
    <td>D</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>T</td>
    <td>B</td>
    <td>-</td>
    <td>Y</td>
  </tr>
  <tr>
    <th><code>BigDecimal</code></th>
    <td>T</td>
    <td>T</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>D</td>
    <td>T</td>
    <td>D</td>
    <td>T</td>
    <td>D</td>
    <td>-</td>
  </tr>
</table>

<!-- * 'Y' indicates a conversion Groovy can make, 'D' indicates a conversion Groovy can make when compiled dynamically or explicitly cast, 'T` indicates a conversion Groovy can make but data is truncated, 'B' indicates a boxing/unboxing operation, 'N' indicates a conversion Groovy can’t make. -->
<p>* <code>&#39;Y&#39;</code> 即指 Groovy 可以执行该转换，<code>&#39;D&#39;</code> 即指 Groovy 进行动态编译或遇到显式类型转换语句时可执行该转换，<code>&#39;T&#39;</code> 即指 Groovy 可以执行该转换但有效数据会被删节，<code>&#39;B&#39;</code> 即指该转换为装箱/拆箱操作，<code>&#39;N&#39;</code> 即指 Groovy 不能执行该转换。</p>
<!-- The truncation uses Groovy Truth when converting to boolean/Boolean. Converting from a number to a character casts the Number.intvalue() to char. Groovy constructs BigInteger and BigDecimal using Number.doubleValue() when converting from a Float or Double, otherwise it constructs using toString(). Other conversions have their behavior defined by java.lang.Number. -->
<p>当转换至 <code>boolean</code>/<code>Boolean</code> 时，Groovy 会使用 <a target="_blank" rel="noopener" href="http://docs.groovy-lang.org/latest/html/documentation/core-semantics.html#Groovy-Truth">Groovy 真值</a>；从数字到字符的转换实为从 <code>Number.intvalue()</code> 到 <code>char</code> 的强制转换；当转换至 <code>BigInteger</code> 或 <code>BigDecimal</code> 时，如果源类型为 <code>Float</code> 或 <code>Double</code>，Groovy 会使用 <code>Number.doubleValue()</code> 来构建结果，否则则使用 <code>toString()</code> 的 结果来构建。其他类型转换的行为均如 <code>java.lang.Number</code> 类所定义。</p>
<h2 id="13-新增的关键词"><a href="#13-新增的关键词" class="headerlink" title="13 新增的关键词"></a>13 新增的关键词</h2><!-- There are a few more keywords in Groovy than in Java. Don’t use them for variable names etc. -->
<p>Groovy 比起 Java 新增了如下几个关键词。不要将它们用作变量名等标识符：</p>
<ul>
<li><code>as</code></li>
<li><code>def</code></li>
<li><code>in</code></li>
<li><code>trait</code></li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>Groovy 教程 - 与 Java 的差异</p><p><a href="https://mr-dai.github.io/groovy-differences-with-java/">https://mr-dai.github.io/groovy-differences-with-java/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Robert Peng</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2018-04-24</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-05-17</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Groovy/">Groovy</a></div><!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay-qrcode.png" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechat-qrcode.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/groovy-module-json/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Groovy 模块 - JSON 解析与生成</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/groovy-integrating/"><span class="level-item">Groovy 教程 - 整合 Groovy 至应用程序</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://mr-dai.github.io/groovy-differences-with-java/';
            this.page.identifier = 'groovy-differences-with-java/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'robertpsblog' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="呆呆"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">呆呆</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>中国广州</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">49</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">9</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">35</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://www.zhihu.com/people/robert.peng" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="知乎" href="https://www.zhihu.com/people/robert.peng"><i class="fab fa-zhihu"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Mr-Dai"><i class="fab fa-github"></i></a></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bigtable/"><span class="tag">Bigtable</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GC/"><span class="tag">GC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go/"><span class="tag">Go</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gradle/"><span class="tag">Gradle</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Groovy/"><span class="tag">Groovy</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HBase/"><span class="tag">HBase</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hadoop/"><span class="tag">Hadoop</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hive-ThriftServer/"><span class="tag">Hive ThriftServer</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JVM/"><span class="tag">JVM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MIT-6-824/"><span class="tag">MIT 6.824</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mesos/"><span class="tag">Mesos</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Paxos/"><span class="tag">Paxos</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raft/"><span class="tag">Raft</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SQL/"><span class="tag">SQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spark/"><span class="tag">Spark</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spark-SQL/"><span class="tag">Spark SQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SparkSQL/"><span class="tag">SparkSQL</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows/"><span class="tag">Windows</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Yarn/"><span class="tag">Yarn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZooKeeper/"><span class="tag">ZooKeeper</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/etcd/"><span class="tag">etcd</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%BB%E4%BB%8E%E5%A4%87%E4%BB%BD/"><span class="tag">主从备份</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%B1%E8%AF%86/"><span class="tag">分布式共识</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E5%86%85%E5%AD%98/"><span class="tag">分布式内存</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8/"><span class="tag">分布式存储</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/"><span class="tag">分布式系统</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97/"><span class="tag">分布式计算</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C/"><span class="tag">团队协作</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9B%86%E7%BE%A4%E8%B5%84%E6%BA%90%E8%B0%83%E5%BA%A6/"><span class="tag">集群资源调度</span><span class="tag">2</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#1-默认引入"><span class="level-left"><span class="level-item">1</span><span class="level-item">1 默认引入</span></span></a></li><li><a class="level is-mobile" href="#2-多方法"><span class="level-left"><span class="level-item">2</span><span class="level-item">2 多方法</span></span></a></li><li><a class="level is-mobile" href="#3-数组初始化语句"><span class="level-left"><span class="level-item">3</span><span class="level-item">3 数组初始化语句</span></span></a></li><li><a class="level is-mobile" href="#4-包可见性"><span class="level-left"><span class="level-item">4</span><span class="level-item">4 包可见性</span></span></a></li><li><a class="level is-mobile" href="#5-ARM-块"><span class="level-left"><span class="level-item">5</span><span class="level-item">5 ARM 块</span></span></a></li><li><a class="level is-mobile" href="#6-内部类"><span class="level-left"><span class="level-item">6</span><span class="level-item">6 内部类</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#6-1-静态内部类"><span class="level-left"><span class="level-item">6.1</span><span class="level-item">6.1 静态内部类</span></span></a></li><li><a class="level is-mobile" href="#6-2-匿名内部类"><span class="level-left"><span class="level-item">6.2</span><span class="level-item">6.2 匿名内部类</span></span></a></li><li><a class="level is-mobile" href="#6-3-创建非静态内部类的实例"><span class="level-left"><span class="level-item">6.3</span><span class="level-item">6.3 创建非静态内部类的实例</span></span></a></li></ul></li><li><a class="level is-mobile" href="#7-Lambda-表达式"><span class="level-left"><span class="level-item">7</span><span class="level-item">7 Lambda 表达式</span></span></a></li><li><a class="level is-mobile" href="#8-GString"><span class="level-left"><span class="level-item">8</span><span class="level-item">8 GString</span></span></a></li><li><a class="level is-mobile" href="#9-String-和-Character-字面量"><span class="level-left"><span class="level-item">9</span><span class="level-item">9 String 和 Character 字面量</span></span></a></li><li><a class="level is-mobile" href="#10-基本数据类型和包装类"><span class="level-left"><span class="level-item">10</span><span class="level-item">10 基本数据类型和包装类</span></span></a></li><li><a class="level is-mobile" href="#11-的行为"><span class="level-left"><span class="level-item">11</span><span class="level-item">11 == 的行为</span></span></a></li><li><a class="level is-mobile" href="#12-转换"><span class="level-left"><span class="level-item">12</span><span class="level-item">12 转换</span></span></a></li><li><a class="level is-mobile" href="#13-新增的关键词"><span class="level-left"><span class="level-item">13</span><span class="level-item">13 新增的关键词</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/avatar.png" alt="Robert Peng&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2021 Robert Peng</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="我的 Github" href="https://github.com/Mr-Dai"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>