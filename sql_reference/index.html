<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>SQL Reference - Robert Peng&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="呆呆的博客"><meta name="msapplication-TileImage" content="/img/avatar.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="呆呆的博客"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="My personal reference for the SQL language. Much of the post’s content comes from W3Schools.com."><meta property="og:type" content="blog"><meta property="og:title" content="SQL Reference"><meta property="og:url" content="https://mr-dai.github.io/sql_reference/"><meta property="og:site_name" content="Robert Peng&#039;s Blog"><meta property="og:description" content="My personal reference for the SQL language. Much of the post’s content comes from W3Schools.com."><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.w3schools.com/sql/img_innerjoin.gif"><meta property="og:image" content="https://www.w3schools.com/sql/img_leftjoin.gif"><meta property="og:image" content="https://www.w3schools.com/sql/img_rightjoin.gif"><meta property="og:image" content="https://www.w3schools.com/sql/img_fulljoin.gif"><meta property="article:published_time" content="2017-03-04T16:00:00.000Z"><meta property="article:modified_time" content="2017-03-04T16:00:00.000Z"><meta property="article:author" content="Robert Peng"><meta property="article:tag" content="SQL"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://www.w3schools.com/sql/img_innerjoin.gif"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://mr-dai.github.io/sql_reference/"},"headline":"SQL Reference","image":["https://www.w3schools.com/sql/img_innerjoin.gif","https://www.w3schools.com/sql/img_leftjoin.gif","https://www.w3schools.com/sql/img_rightjoin.gif","https://www.w3schools.com/sql/img_fulljoin.gif"],"datePublished":"2017-03-04T16:00:00.000Z","dateModified":"2017-03-04T16:00:00.000Z","author":{"@type":"Person","name":"Robert Peng"},"publisher":{"@type":"Organization","name":"Robert Peng's Blog","logo":{"@type":"ImageObject","url":"https://mr-dai.github.io/img/avatar.png"}},"description":"My personal reference for the SQL language. Much of the post’s content comes from W3Schools.com."}</script><link rel="canonical" href="https://mr-dai.github.io/sql_reference/"><link rel="icon" href="/img/avatar.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/avatar.png" alt="Robert Peng&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="我的 Github" href="https://github.com/Mr-Dai"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-03-04T16:00:00.000Z" title="3/4/2017, 4:00:00 PM">2017-03-05</time>发表</span><span class="level-item"><time dateTime="2017-03-04T16:00:00.000Z" title="3/4/2017, 4:00:00 PM">2017-03-05</time>更新</span></div></div><h1 class="title is-3 is-size-4-mobile">SQL Reference</h1><div class="content"><p>My personal reference for the SQL language. Much of the post’s content comes from <a target="_blank" rel="noopener" href="https://www.w3schools.com/sql/default.asp">W3Schools.com</a>.</p>
<span id="more"></span>

<h2 id="Basic-CRUD-Operations"><a href="#Basic-CRUD-Operations" class="headerlink" title="Basic CRUD Operations"></a>Basic CRUD Operations</h2><h3 id="Selecting-All-Columns-from-Table"><a href="#Selecting-All-Columns-from-Table" class="headerlink" title="Selecting All Columns from Table"></a>Selecting All Columns from Table</h3><p>The following SQL statement selects all the columns from the <code>Customers</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<h3 id="Selecting-Designated-Columns-from-Table"><a href="#Selecting-Designated-Columns-from-Table" class="headerlink" title="Selecting Designated Columns from Table"></a>Selecting Designated Columns from Table</h3><p>The following SQL statement selects the <code>CustomerName</code> and <code>City</code> columns from the <code>Customers</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> CustomerName, City <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<h3 id="Selecting-Distinct-Values-of-Given-Columns"><a href="#Selecting-Distinct-Values-of-Given-Columns" class="headerlink" title="Selecting Distinct Values of Given Columns"></a>Selecting Distinct Values of Given Columns</h3><p>The following SQL statement returns all the distinct values from the <code>City</code> columns of the <code>Customers</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> City <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<p>The following SQL statement returns all the distinct combinations of the <code>City</code> and <code>Country</code> columns of the <code>Customers</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> City, Country <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<h3 id="Using-the-WHERE-clause"><a href="#Using-the-WHERE-clause" class="headerlink" title="Using the WHERE clause"></a>Using the WHERE clause</h3><p>Using <code>WHERE</code> clause can tell the RDBMS to return only records that satisfy the given criteria.</p>
<p>The following SQL statement selects all the customers from the country <code>Mexico</code>, in the <code>Customers</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Mexico&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Note:</strong> String literals in SQL is represented by single-quoted strings like <code>&#39;Mexico&#39;</code>, while double-quoted string represents <b>quoted identifier</b>, being identifier that contains alpha-numeric characters, <code>$</code> and <code>#</code>. Quoted identifier can also be specified by strings surrounded by brackets, e.g. <code>[Contact Person]</code>.</p>
</blockquote>
<h4 id="The-SQL-AND-OR-amp-NOT-Operators"><a href="#The-SQL-AND-OR-amp-NOT-Operators" class="headerlink" title="The SQL AND, OR &amp; NOT Operators"></a>The SQL AND, OR &amp; NOT Operators</h4><p>The <code>AND</code> operator returns a record if both the first condition AND the second condition are true.</p>
<p>The following SQL statement selects all customers from the country <code>Germany</code> AND the city <code>Berlin</code>, in the <code>Customers</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Germany&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> City<span class="operator">=</span><span class="string">&#x27;Berlin&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>The <code>OR</code> operator returns a record if either the first condition OR the second condition is true.</p>
<p>The following SQL statement selects all customers from the city <code>Berlin</code> OR <code>München</code>, in the <code>Customers</code> table: </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> City<span class="operator">=</span><span class="string">&#x27;Berlin&#x27;</span></span><br><span class="line"><span class="keyword">OR</span> City<span class="operator">=</span><span class="string">&#x27;München&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><code>AND</code> and <code>OR</code> operator can be combined to form complex expressions. It is important to note that <code>AND</code> has higher precedence<br>than <code>OR</code>, while you can also use parenthesis to group sub-expressions.</p>
<p>The following SQL statement selects all customers from the country <code>Germany</code> AND the city must be equal to <code>Berlin</code> OR <code>München</code>,<br>in the <code>Customers</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Germany&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> (City<span class="operator">=</span><span class="string">&#x27;Berlin&#x27;</span> <span class="keyword">OR</span> City<span class="operator">=</span><span class="string">&#x27;München&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Using-the-ORDER-BY-Clause"><a href="#Using-the-ORDER-BY-Clause" class="headerlink" title="Using the ORDER BY Clause"></a>Using the ORDER BY Clause</h3><p>The <code>ORDER BY</code> keyword is used to sort the result-set by one or more columns.</p>
<p>The <code>ORDER BY</code> keyword sorts the records in ascending order by default.<br>To sort the records in a descending order, you can use the <code>DESC</code> keyword.</p>
<p>The following SQL statement selects all customers from the <code>Customers</code> table, sorted ascending by the <code>Country</code> and<br>descending by the <code>CustomerName</code> column, while the <code>ASC</code> keyword for <code>Country</code> column is omittable:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Country <span class="keyword">ASC</span>, CustomerName <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Inserting-New-Record"><a href="#Inserting-New-Record" class="headerlink" title="Inserting New Record"></a>Inserting New Record</h3><p>The <code>INSERT INTO</code> statement is used to insert new records in a table.</p>
<p>The following SQL statement will insert a new row to the <code>Customers</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Customers</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">25</span>, <span class="string">&#x27;Cardinal&#x27;</span>,<span class="string">&#x27;Tom B. Erichsen&#x27;</span>,<span class="string">&#x27;Skagen 21&#x27;</span>,<span class="string">&#x27;Stavanger&#x27;</span>,<span class="string">&#x27;4006&#x27;</span>,<span class="string">&#x27;Norway&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>While the following SQL statement will only insert data in the <code>CustomerName</code>, <code>City</code>, and <code>Country</code> column:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Customers (CustomerName, City, Country)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;Cardinal&#x27;</span>, <span class="string">&#x27;Stavanger&#x27;</span>, <span class="string">&#x27;Norway&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Updating-Records"><a href="#Updating-Records" class="headerlink" title="Updating Records"></a>Updating Records</h3><p>The <code>UPDATE</code> and <code>SET</code> keyword can be used to update existing records in a table.</p>
<p>The following SQL statement will update all records which have the value <code>Mexico</code> in the field <code>Country</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE Customers</span><br><span class="line"><span class="keyword">SET</span> ContactName<span class="operator">=</span><span class="string">&#x27;Juan&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Mexico&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>Note that the <code>WHERE</code> clause of an <code>UPDATE</code> statement is omittable, which causes the statement to update all records in a table.</p>
<p>The following SQL statement will update all records in table <code>Customers</code> to have the value <code>Juan</code> in the field <code>ContactName</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UPDATE Customers</span><br><span class="line"><span class="keyword">SET</span> ContactName<span class="operator">=</span><span class="string">&#x27;Juan&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Deleting-Records"><a href="#Deleting-Records" class="headerlink" title="Deleting Records"></a>Deleting Records</h3><p>The <code>DELETE</code> statement is used to delete rows in a table.</p>
<p>The following SQL statement will delete all records which have the value <code>Mexico</code> in the field <code>Country</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Mexico&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>The <code>WHERE</code> clause of a <code>DELETE</code> statement is also omittable, which causes the statement to delete all records in a table.</p>
<p>The following SQL statement will clear the <code>Customers</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<h2 id="Advanced-Query"><a href="#Advanced-Query" class="headerlink" title="Advanced Query"></a>Advanced Query</h2><h3 id="Limiting-Size-of-Result-Set"><a href="#Limiting-Size-of-Result-Set" class="headerlink" title="Limiting Size of Result Set"></a>Limiting Size of Result Set</h3><p>In many cases, one may wants the DBMS to return designated part of the result set, including use cases like result pagination.</p>
<p>In standard SQL, the <code>SELECT TOP</code> clause is used to specify the number of records to return. </p>
<p>The following SQL statement selects the two first records from the <code>Customers</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TOP <span class="number">2</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<p>By using it in combination of the <code>PERCENT</code> keyword, one can also specify to select the first given percentage of the result set.</p>
<p>The following SQL statement selects the first 50% of the records from the <code>Customers</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TOP <span class="number">50</span> <span class="keyword">PERCENT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<p><strong>Unfortunately</strong>, <code>TOP</code> clause is not supported by many RDBMS, while most of them provide different alternatives for the same funtionality.</p>
<p>For instance, in MySQL, one can use <code>LIMIT</code> clause to achieve the same result. The following SQL statement selects the two first records from the <code>Customers</code> table in MySQL:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers LIMIT <span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Pattern-Matching-for-String-Field"><a href="#Pattern-Matching-for-String-Field" class="headerlink" title="Pattern Matching for String Field"></a>Pattern Matching for String Field</h3><p>Using <code>LIKE</code> operator in <code>WHERE</code> clause can search for specific pattern in string fields.</p>
<p>The following SQL statement selects all customers with a <code>City</code> starting with the letter <code>s</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> City <span class="keyword">LIKE</span> <span class="string">&#x27;s%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="SQL-Wildcard-Characters"><a href="#SQL-Wildcard-Characters" class="headerlink" title="SQL Wildcard Characters"></a>SQL Wildcard Characters</h4><p>SQL wildcard characters are typically used to specify search pattern for <code>LIKE</code> operator.</p>
<p>The standard SQL includes the following wildcard:</p>
<table>
<thead>
<tr>
<th>WildCard</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>%</code></td>
<td>Substitude for zero or more arbitary characters</td>
</tr>
<tr>
<td><code>_</code></td>
<td>Substitude for single arbitary character</td>
</tr>
<tr>
<td><code>[charlist]</code></td>
<td>Sets or ranges of characters to match</td>
</tr>
<tr>
<td><code>[^charlist]</code> or <code>[!charlist]</code></td>
<td>Matches only a character NOT specified by the set or range within the brackets</td>
</tr>
</tbody></table>
<h3 id="Searching-for-Value-in-Given-Set"><a href="#Searching-for-Value-in-Given-Set" class="headerlink" title="Searching for Value in Given Set"></a>Searching for Value in Given Set</h3><p>The <code>IN</code> operator allows you to specify multiple values in a <code>WHERE</code> clause.</p>
<p>The following SQL statement selects all customers with a <code>City</code> of <code>Paris</code> or <code>London</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> City <span class="keyword">IN</span> (<span class="string">&#x27;Paris&#x27;</span>,<span class="string">&#x27;London&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>It can be used with <code>NOT</code> operator to selects the records whose designated field do not have the given values.</p>
<p>The following SQL statement selects all customers whose are not from city of <code>Paris</code> or <code>London</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> City <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="string">&#x27;Paris&#x27;</span>,<span class="string">&#x27;London&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Searching-for-Value-in-Given-Range"><a href="#Searching-for-Value-in-Given-Range" class="headerlink" title="Searching for Value in Given Range"></a>Searching for Value in Given Range</h3><p>The <code>BETWEEN</code> operator is used to select values within a range.</p>
<p>The following SQL statement selects all products with a price BETWEEN <code>10</code> and <code>20</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> Price <span class="keyword">BETWEEN</span> <span class="number">10</span> <span class="keyword">AND</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<p>It can also be used with <code>NOT</code> to select values which are not within the given range.</p>
<p>The following SQL statement selects all products with a price smaller than <code>10</code> or bigger than <code>20</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> Price <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">10</span> <span class="keyword">AND</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Note</strong> that different result may be returned by different databases, as whether the border values of the given range should be treated exclusively or inclusively is not specified by the SQL standard.</p>
</blockquote>
<h3 id="Giving-Aliase-to-Table-or-Column-of-Result-Set"><a href="#Giving-Aliase-to-Table-or-Column-of-Result-Set" class="headerlink" title="Giving Aliase to Table or Column of Result Set"></a>Giving Aliase to Table or Column of Result Set</h3><p>The <code>AS</code> operator is used to give alias to table or column of result set which is only effective within the single SQL statement.</p>
<p>The following SQL statement specifies two aliases, one for the <code>CustomerName</code> column and one for the <code>ContactName</code> column.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> CustomerName <span class="keyword">AS</span> Customer, ContactName <span class="keyword">AS</span> &quot;Contact Person&quot;</span><br><span class="line"><span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<p>The following SQL statement selects all the orders issued by the customer with <code>CustomerName</code> of <code>Around the Horn</code>. We use the <code>Customers</code> and <code>Orders</code> tables, and give them the table aliases of <code>c</code> and <code>o</code> respectively:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> o.OrderID, o.OrderDate, c.CustomerName</span><br><span class="line"><span class="keyword">FROM</span> Customers <span class="keyword">AS</span> c, Orders <span class="keyword">AS</span> o</span><br><span class="line"><span class="keyword">WHERE</span> c.CustomerName<span class="operator">=</span>&quot;Around the Horn&quot; <span class="keyword">AND</span> c.CustomerID<span class="operator">=</span>o.CustomerID;</span><br></pre></td></tr></table></figure>

<h3 id="Using-the-JOIN-Operator"><a href="#Using-the-JOIN-Operator" class="headerlink" title="Using the JOIN Operator"></a>Using the JOIN Operator</h3><p>One can use the SQL <code>JOIN</code> operator to combine records from different tables by using values common to each.</p>
<p>Normally, <code>JOIN</code> queries on more than two tables is constructed by concatenating all the tables with <code>JOIN</code> operators, while the <code>JOIN</code> operator itself is a binary operator and is upper-associative, so we can only consider the cases where are only two tables to join. For simplicity, I will use the terms “left table” and “right table” to refer to the two table operands.</p>
<p>There are 4 different types of <code>JOIN</code> operations:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>INNER JOIN</code></td>
<td>Returns all rows when there is at least one match in BOTH tables</td>
</tr>
<tr>
<td><code>LEFT JOIN</code></td>
<td>Return all rows from the left table, and the matched rows from the right table</td>
</tr>
<tr>
<td><code>RIGHT JOIN</code></td>
<td>Return all rows from the right table, and the matched rows from the left table</td>
</tr>
<tr>
<td><code>FULL JOIN</code></td>
<td>Return all rows when there is a match in ONE of the tables</td>
</tr>
</tbody></table>
<h4 id="Inner-Join"><a href="#Inner-Join" class="headerlink" title="Inner Join"></a>Inner Join</h4><p>The <code>INNER JOIN</code> keyword selects all rows from both tables as long as there is a match between the columns in both tables.</p>
<p><img src="https://www.w3schools.com/sql/img_innerjoin.gif"></p>
<p>The following SQL statement will return all customers with orders, <em>leaving out the customers that do not have orders recorded in the database</em>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Customers.CustomerName, Orders.OrderID</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> Orders</span><br><span class="line"><span class="keyword">ON</span> Customers.CustomerID<span class="operator">=</span>Orders.CustomerID</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Customers.CustomerName;</span><br></pre></td></tr></table></figure>

<p>When not specify, <code>INNER JOIN</code> is the default type of <code>JOIN</code> operations, hence the <code>INNER</code> keyword in the upper code can be omitted and written like this:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Customers.CustomerName, Orders.OrderID</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">JOIN</span> Orders</span><br><span class="line"><span class="keyword">ON</span> Customers.CustomerID<span class="operator">=</span>Orders.CustomerID</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Customers.CustomerName;</span><br></pre></td></tr></table></figure>

<h4 id="Left-Join"><a href="#Left-Join" class="headerlink" title="Left Join"></a>Left Join</h4><p>The <code>LEFT JOIN</code> keyword returns all rows from the left table, with the matching rows in the right table. The result is <code>NULL</code> in the right side when there is no match.</p>
<p><img src="https://www.w3schools.com/sql/img_leftjoin.gif"></p>
<p>The following SQL statement will return all customers, and any orders they might have:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Customers.CustomerName, Orders.OrderID</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> Orders</span><br><span class="line"><span class="keyword">ON</span> Customers.CustomerID<span class="operator">=</span>Orders.CustomerID</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Customers.CustomerName;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Note</strong> that in some databases, <code>LEFT JOIN</code> is called <code>LEFT OUTER JOIN</code>, hence an <code>OUTER</code> keyword may need to be added to the upper code depending on the database you use.</p>
</blockquote>
<h4 id="Right-Join"><a href="#Right-Join" class="headerlink" title="Right Join"></a>Right Join</h4><p>Similar to <code>LEFT JOIN</code>, the <code>RIGHT JOIN</code> keyword returns all rows from the right table, with the matching rows in the left table. The result is <code>NULL</code> in the left side when there is no match.</p>
<p><img src="https://www.w3schools.com/sql/img_rightjoin.gif"></p>
<p>The following SQL statement will return all customers, and any orders they might have:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Orders.OrderId, Customers.CustomerName, Orders.OrderID</span><br><span class="line"><span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> Customers</span><br><span class="line"><span class="keyword">ON</span> Customers.CustomerID<span class="operator">=</span>Orders.CustomerID</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Customers.CustomerName;</span><br></pre></td></tr></table></figure>

<h4 id="Full-Join"><a href="#Full-Join" class="headerlink" title="Full Join"></a>Full Join</h4><p><code>FULL JOIN</code> is also known as <code>FULL OUTER JOIN</code>, which acts as a combination of <code>LEFT OUTER JOIN</code> and <code>RIGHT OUTER JOIN</code>. The <code>FULL OUTER JOIN</code> keyword returns all rows from the left table and from the right table.</p>
<p>The <code>FULL OUTER JOIN</code> keyword combines the result of both <code>LEFT</code> and <code>RIGHT</code> joins: it returns all the rows from the left table, and all the rows from the right table. If there are rows in the left table that do not have matches in the right table, or if there are rows in the right table that do not have matches in the left table, those rows will be listed as well.</p>
<p><img src="https://www.w3schools.com/sql/img_fulljoin.gif"></p>
<p>The following SQL statement selects all customers, and all orders:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Customers.CustomerName, Orders.OrderID</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">FULL</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> Orders</span><br><span class="line"><span class="keyword">ON</span> Customers.CustomerID<span class="operator">=</span>Orders.CustomerID</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Customers.CustomerName;</span><br></pre></td></tr></table></figure>

<h3 id="Using-the-UNION-Operator"><a href="#Using-the-UNION-Operator" class="headerlink" title="Using the UNION Operator"></a>Using the UNION Operator</h3><p>The <code>UNION</code> operator is used to combine the result-set of two or more <code>SELECT</code> statements. <strong>Notice</strong> that each <code>SELECT</code> statement within the <code>UNION</code> must have the <em>same number of columns</em>. The columns must also have <em>similar data types</em>. Also, the columns in each <code>SELECT</code> statement must be <em>in the same order</em>.</p>
<p>Also note that the <code>UNION</code> operator selects only distinct values by default. To allow duplicate values, use the <code>ALL</code> keyword with <code>UNION</code>.</p>
<p>The following SQL statement selects all the <strong>different</strong> cities (only distinct values) from the <code>Customers</code> and the <code>Suppliers</code> tables:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> City <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> City <span class="keyword">FROM</span> Suppliers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> City;</span><br></pre></td></tr></table></figure>

<p>The following SQL statement uses UNION ALL to select <strong>all</strong> (duplicate values also) <strong>German</strong> cities from the <code>Customers</code> and <code>Suppliers</code> tables:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> City, Country <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Germany&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> City, Country <span class="keyword">FROM</span> Suppliers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Germany&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> City;</span><br></pre></td></tr></table></figure>

<h3 id="Using-the-GROUP-BY-Statement"><a href="#Using-the-GROUP-BY-Statement" class="headerlink" title="Using the GROUP BY Statement"></a>Using the GROUP BY Statement</h3><p>The <code>GROUP BY</code> statement is used in conjunction with the aggregate functions, such as <code>COUNT</code> and <code>SUM</code>, to group the result-set by one or more columns.</p>
<p>The following SQL statement counts as orders grouped by shippers:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Shippers.ShipperName, <span class="built_in">COUNT</span>(Orders.OrderID) <span class="keyword">AS</span> NumberOfOrders</span><br><span class="line"><span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> Shippers</span><br><span class="line"><span class="keyword">ON</span> Orders.ShipperID<span class="operator">=</span>Shippers.ShipperID</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> ShipperName;</span><br></pre></td></tr></table></figure>

<p>We can also use the GROUP BY statement on more than one column, like this:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Shippers.ShipperName, Employees.LastName, <span class="built_in">COUNT</span>(Orders.OrderID) <span class="keyword">AS</span> NumberOfOrders</span><br><span class="line"><span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">JOIN</span> Shippers <span class="keyword">ON</span> Orders.ShipperID <span class="operator">=</span> Shippers.ShipperID</span><br><span class="line"><span class="keyword">JOIN</span> Employees <span class="keyword">ON</span> Orders.EmployeeID <span class="operator">=</span> Employees.EmployeeID</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> ShipperName,LastName;</span><br></pre></td></tr></table></figure>

<h4 id="The-HAVING-Clause"><a href="#The-HAVING-Clause" class="headerlink" title="The HAVING Clause"></a>The HAVING Clause</h4><p>The HAVING clause was added to SQL because the WHERE keyword could not be used with aggregate functions.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Employees.LastName, <span class="built_in">COUNT</span>(Orders.OrderID) <span class="keyword">AS</span> NumberOfOrders <span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> Employees</span><br><span class="line"><span class="keyword">ON</span> Orders.EmployeeID<span class="operator">=</span>Employees.EmployeeID</span><br><span class="line"><span class="keyword">WHERE</span> LastName<span class="operator">=</span><span class="string">&#x27;Davolio&#x27;</span> <span class="keyword">OR</span> LastName<span class="operator">=</span><span class="string">&#x27;Fuller&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> LastName</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(Orders.OrderID) <span class="operator">&gt;</span> <span class="number">25</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Using-SQL-Comments"><a href="#Using-SQL-Comments" class="headerlink" title="Using SQL Comments"></a>Using SQL Comments</h3><p>Comments can be used to explain sections of SQL statements.</p>
<p>Single line comments start with <code>--</code>, the content between <code>--</code> and the end of the line will be ignored (will not be executed):</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers <span class="comment">-- WHERE City=&#x27;Berlin&#x27;;</span></span><br></pre></td></tr></table></figure>

<p>Multi-line comments start with <code>/*</code> and end with <code>*/</code>, the data between <code>/*</code> and <code>*/</code> will be ignored:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Select all the columns</span></span><br><span class="line"><span class="comment"> * of all the records</span></span><br><span class="line"><span class="comment"> * in the Customers table:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<h3 id="Storing-Query-Result-in-other-Table"><a href="#Storing-Query-Result-in-other-Table" class="headerlink" title="Storing Query Result in other Table"></a>Storing Query Result in other Table</h3><h4 id="Using-the-SELECT-INTO-Statement-to-Create-a-New-Table"><a href="#Using-the-SELECT-INTO-Statement-to-Create-a-New-Table" class="headerlink" title="Using the SELECT INTO Statement to Create a New Table"></a>Using the SELECT INTO Statement to Create a New Table</h4><p>The <code>SELECT INTO</code> statement copies the result of a <code>SELECT</code> query and inserts it into a new table.</p>
<p>The following SQL statement will copy only the German customers into the new table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">INTO</span> CustomersBackup2013</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Germany&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>When used in combination with <code>IN</code> keyword, the <code>SELECT INTO</code> statement can also creates a new table in another database.</p>
<p>The following statement copies the <code>Customers</code> table into a new <code>CustomersBackup2013</code> in <code>Backup.mdb</code> database:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">INTO</span> CustomersBackup2013 <span class="keyword">IN</span> <span class="string">&#x27;Backup.mdb&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>

<h4 id="Using-the-the-INSERT-INTO-SELECT-Statement"><a href="#Using-the-the-INSERT-INTO-SELECT-Statement" class="headerlink" title="Using the the INSERT INTO SELECT Statement"></a>Using the the INSERT INTO SELECT Statement</h4><p>Similar to the <code>SELECT INTO</code> statement, the <code>INSERT INTO SELECT</code> statement copies data from one table and inserts it into an <em>existing</em> table. Columns can also be specified to ask the <code>INSERT INTO SELECT</code> statement only insert the data in designated columns of the target table.</p>
<p>The following statement copies only the German suppliers into <code>Customers</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Customers (CustomerName, Country)</span><br><span class="line"><span class="keyword">SELECT</span> SupplierName, Country <span class="keyword">FROM</span> Suppliers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Germany&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="Table-Schema-and-Index-Management"><a href="#Table-Schema-and-Index-Management" class="headerlink" title="Table Schema and Index Management"></a>Table Schema and Index Management</h2><h3 id="Creating-Database"><a href="#Creating-Database" class="headerlink" title="Creating Database"></a>Creating Database</h3><p>The <code>CREATE DATABASE</code> statement is used to create a database.</p>
<p>The following SQL statement creates a database called <code>my_db</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE my_db;</span><br></pre></td></tr></table></figure>

<h3 id="Deleting-Database"><a href="#Deleting-Database" class="headerlink" title="Deleting Database"></a>Deleting Database</h3><p>The <code>DROP DATABASE</code> statement is used to delete a database.</p>
<p>The following SQL statement deletes the <code>my_db</code> database.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE my_db;</span><br></pre></td></tr></table></figure>

<h3 id="Creating-Table"><a href="#Creating-Table" class="headerlink" title="Creating Table"></a>Creating Table</h3><p>The <code>CREATE TABLE</code> statement is used to create a table in a database. During the creation, one will specify the name of the table, columns it has, and the name, data type and optional constrain of each column.</p>
<p>The following SQL statement creates a table called <code>Persons</code> that contains five columns: <code>PersonID</code>, <code>LastName</code>, <code>FirstName</code>, <code>Address</code>, and <code>City</code>.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons (</span><br><span class="line">    PersonID <span class="type">int</span>,</span><br><span class="line">    LastName <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    FirstName <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    Address <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    City <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="Deleting-Table"><a href="#Deleting-Table" class="headerlink" title="Deleting Table"></a>Deleting Table</h3><p>The <code>DROP TABLE</code> statement is used to delete a table.</p>
<p>The following SQL statement deletes the <code>Persons</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> Persons;</span><br></pre></td></tr></table></figure>

<h3 id="Deleting-all-the-Records-in-a-Table"><a href="#Deleting-all-the-Records-in-a-Table" class="headerlink" title="Deleting all the Records in a Table"></a>Deleting all the Records in a Table</h3><p>The <code>TRUNCATE TABLE</code> statement is used to delete all the data inside a table while not deleting the table itself.</p>
<p>The following SQL statement deletes all the record in the <code>Persons</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> Persons;</span><br></pre></td></tr></table></figure>

<h3 id="Modifying-Table-Schema"><a href="#Modifying-Table-Schema" class="headerlink" title="Modifying Table Schema"></a>Modifying Table Schema</h3><p>The <code>ALTER TABLE</code> statement is used to add, delete, or modify columns in an existing table.</p>
<p>The following statement adds a new column named <code>DateOfBirth</code> in the <code>Persons</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons</span><br><span class="line"><span class="keyword">ADD</span> DateOfBirth <span class="type">date</span>;</span><br></pre></td></tr></table></figure>

<p>The following statement changes the data type of the <code>DateOfBirth</code> column in the <code>Persons</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons</span><br><span class="line">MODIFY <span class="keyword">COLUMN</span> DateOfBirth <span class="keyword">year</span>;</span><br></pre></td></tr></table></figure>

<p>The following statement deletes the <code>DateOfBirth</code> column in the <code>Persons</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> DateOfBirth;</span><br></pre></td></tr></table></figure>

<h3 id="The-SQL-Constraints"><a href="#The-SQL-Constraints" class="headerlink" title="The SQL Constraints"></a>The SQL Constraints</h3><p>SQL constraints can be added to table columns to specify rules for the data it stores. If there is any violation between the constraint and the data action, the action is aborted by the constraint.</p>
<p>SQL constraints can be added to table columns during table creation or after the table is created.</p>
<p>In SQL, we have the following constrains:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>NOT NULL</code></td>
<td>Indicates that a column cannot store NULL value</td>
</tr>
<tr>
<td><code>UNIQUE</code></td>
<td>Ensures that each row for a column must have a unique value</td>
</tr>
<tr>
<td><code>PRIMARY KEY</code></td>
<td>A combination of a <code>NOT NULL</code> and <code>UNIQUE</code>. Ensures that a column (or combination of two or more columns) have a unique identity which helps to find a particular record in a table more easily and quickly</td>
</tr>
<tr>
<td><code>FOREIGN KEY</code></td>
<td>Ensure the referential integrity of the data in one table to match values in another table</td>
</tr>
<tr>
<td><code>CHECK</code></td>
<td>Ensures that the value in a column meets a specific condition</td>
</tr>
<tr>
<td><code>DEFAULT</code></td>
<td>Specifies a default value for a column</td>
</tr>
</tbody></table>
<h4 id="The-NOT-NULL-Constraint"><a href="#The-NOT-NULL-Constraint" class="headerlink" title="The NOT NULL Constraint"></a>The NOT NULL Constraint</h4><p>The <code>NOT NULL</code> constraint enforces a column to NOT accept NULL values, i.e. the field must always contain a value. This means that you cannot insert a new record, or update a record without adding a value to this field.</p>
<p>The following table creation statement enforces the <code>P_Id</code> column and the <code>LastName</code> column to not accept NULL values:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> PersonsNotNull (</span><br><span class="line">    P_Id <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    LastName <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    FirstName <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    Address <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    City <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>You can also add this constraint after the table is created using the <code>ALTER TABLE</code> statement. The following code achieves the same result:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> PersonsNotNull MODIFY P_Id <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> PersonsNotNUll MODIFY LastName <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<h4 id="The-UNIQUE-Constraint"><a href="#The-UNIQUE-Constraint" class="headerlink" title="The UNIQUE Constraint"></a>The UNIQUE Constraint</h4><p>The <code>UNIQUE</code> constraint uniquely identifies each record in a database table. A <code>UNIQUE</code> constraint can be added on more than one columns.</p>
<p>The following SQL creates a <code>UNIQUE</code> constraint named <code>uc_PersonID</code> on the <code>P_Id</code> and <code>LastName</code> column when the <code>Persons</code> table is created:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons (</span><br><span class="line">    P_Id <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    LastName <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    FirstName <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    Address <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    City <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> uc_PersonID <span class="keyword">UNIQUE</span> (P_Id, LastName)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>The <code>UNIQUE</code> constraint can also be added after the table is created. The following statement achieves the same result:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> uc_PersonID <span class="keyword">UNIQUE</span> (P_Id,LastName)</span><br></pre></td></tr></table></figure>

<h4 id="The-PRIMARY-KEY-Constraint"><a href="#The-PRIMARY-KEY-Constraint" class="headerlink" title="The PRIMARY KEY Constraint"></a>The PRIMARY KEY Constraint</h4><p>The <code>PRIMARY KEY</code> constraint uniquely identifies each record in a database table.</p>
<p>A <code>PRIMARY KEY</code> constraint can be seen as a combination of <code>NOT NULL</code> and <code>UNIQUE</code>, but while a table can have arbitary number of <code>NOT NULL</code> and <code>UNIQUE</code> constrains, a table can only have one <code>PRIMARY KEY</code> constraint.</p>
<p>The following statement creates a table called <code>Persons</code> and adds a <code>PRIMARY KEY</code> constraint called <code>pk_PersonID</code> on column <code>P_Id</code> and <code>LastName</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons (</span><br><span class="line">    P_Id <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    LastName <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    FirstName <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    Address <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    City <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> pk_PersonID <span class="keyword">PRIMARY</span> KEY (P_Id,LastName)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>The following statement adds a <code>PRIMARY KEY</code> constraint on column <code>P_Id</code> and <code>LastName</code> to table <code>Persons</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> pk_PersonID <span class="keyword">PRIMARY</span> KEY (P_Id,LastName)</span><br></pre></td></tr></table></figure>

<h4 id="The-FOREIGN-KEY-Constraint"><a href="#The-FOREIGN-KEY-Constraint" class="headerlink" title="The FOREIGN KEY Constraint"></a>The FOREIGN KEY Constraint</h4><p>A <code>FOREIGN KEY</code> in one table points to a <code>PRIMARY KEY</code> in another table.</p>
<p>The following SQL creates a <code>FOREIGN KEY</code> on the <code>P_Id</code> column when the <code>Orders</code> table is created:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Orders (</span><br><span class="line">    O_Id <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    OrderNo <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    P_Id <span class="type">int</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (O_Id),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> fk_PerOrders <span class="keyword">FOREIGN</span> KEY (P_Id) <span class="keyword">REFERENCES</span> Persons(P_Id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>You can also use the <code>ALTER TABLE</code> statement to add a <code>FOREIGN KEY</code> constraint on an existing table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Orders</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> fk_PerOrders</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY (P_Id)</span><br><span class="line"><span class="keyword">REFERENCES</span> Persons(P_Id);</span><br></pre></td></tr></table></figure>

<h4 id="The-CHECK-Constraint"><a href="#The-CHECK-Constraint" class="headerlink" title="The CHECK Constraint"></a>The CHECK Constraint</h4><p>The CHECK constraint allows you to add rules on the values a table can contain.</p>
<p>The following SQL statement creates a <code>CHECK</code> contraint when the <code>Persons</code> table is created:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons (</span><br><span class="line">    P_Id <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    LastName <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    FirstName <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    Address <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    City <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> chk_Person <span class="keyword">CHECK</span> (P_Id<span class="operator">&gt;</span><span class="number">0</span> <span class="keyword">AND</span> City<span class="operator">=</span><span class="string">&#x27;Sandnes&#x27;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>You can also use the <code>ALTER TABLE</code> statement to add a <code>CHECK</code> constraint on an existing table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> chk_Person <span class="keyword">CHECK</span> (P_Id<span class="operator">&gt;</span><span class="number">0</span> <span class="keyword">AND</span> City<span class="operator">=</span><span class="string">&#x27;Sandnes&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="The-DEFAULT-Constraint"><a href="#The-DEFAULT-Constraint" class="headerlink" title="The DEFAULT Constraint"></a>The DEFAULT Constraint</h4><p>The DEFAULT constraint is used to specify a default value for a column. The default value will be used if you insert a new record without specifying the value of that column.</p>
<p>The following SQL creates a <code>DEFAULT</code> constraint on the <code>City</code> column when the <code>Persons</code> table is created:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons (</span><br><span class="line">    P_Id <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    LastName <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    FirstName <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    Address <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    City <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;Sandnes&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>The <code>DEFAULT</code> constraint can also be used to insert system values, by using functions like <code>GETDATE()</code>:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Orders (</span><br><span class="line">    O_Id <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    OrderNo <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    P_Id <span class="type">int</span>,</span><br><span class="line">    OrderDate <span class="type">date</span> <span class="keyword">DEFAULT</span> GETDATE()</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="Creating-Index"><a href="#Creating-Index" class="headerlink" title="Creating Index"></a>Creating Index</h3><p>An index can be created in a table to find data more quickly and efficiently. Updating a table with indexes takes more time than updating a table without, as the indexes also need an update ($O(1)$ to $O(log(n))$ for most cases).</p>
<p>The following SQL statement creates an index named <code>PIndex</code> on the <code>LastName</code> and <code>FirstName</code> column in the <code>Persons</code> table:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> INDEX PIndex</span><br><span class="line"><span class="keyword">ON</span> Persons (LastName, FirstName);</span><br></pre></td></tr></table></figure>

<p>You can also create a <code>UNIQUE</code> index by adding <code>UNIQUE</code> keyword, which is quite similar to adding a <code>UNIQUE</code> constraint for most database systems:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> INDEX PIndex</span><br><span class="line"><span class="keyword">ON</span> Persons (LastName, FirstName);</span><br></pre></td></tr></table></figure>

<h3 id="Droping-Index"><a href="#Droping-Index" class="headerlink" title="Droping Index"></a>Droping Index</h3><p>The <code>DROP INDEX</code> statement is used to remove index from designated table. Unfortunately, the valid syntax of <code>DROP INDEX</code> varies from different database systems.</p>
<p>For MySQL:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name <span class="keyword">DROP</span> INDEX index_name;</span><br></pre></td></tr></table></figure>

<h3 id="View"><a href="#View" class="headerlink" title="View"></a>View</h3><p>In SQL, a view is a virtual table based on the result-set of an SQL statement. A view always shows up-to-date data! The database engine recreates the data, using the view’s SQL statement, every time a user queries a view. In most cases, view is used to save clients from sending complex query each time:</p>
<h4 id="Creating-a-View"><a href="#Creating-a-View" class="headerlink" title="Creating a View"></a>Creating a View</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> [Category Sales <span class="keyword">For</span> <span class="number">1997</span>] <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> CategoryName,<span class="built_in">Sum</span>(ProductSales) <span class="keyword">AS</span> CategorySales</span><br><span class="line"><span class="keyword">FROM</span> [Product Sales <span class="keyword">for</span> <span class="number">1997</span>]</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> CategoryName;</span><br></pre></td></tr></table></figure>

<h4 id="Updating-a-View"><a href="#Updating-a-View" class="headerlink" title="Updating a View"></a>Updating a View</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">VIEW</span> [<span class="keyword">Current</span> Product List] <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> ProductID,ProductName,Category</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> Discontinued<span class="operator">=</span><span class="keyword">No</span>;</span><br></pre></td></tr></table></figure>

<h4 id="Dropping-a-View"><a href="#Dropping-a-View" class="headerlink" title="Dropping a View"></a>Dropping a View</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> view_name;</span><br></pre></td></tr></table></figure>

</div><div class="article-licensing box"><div class="licensing-title"><p>SQL Reference</p><p><a href="https://mr-dai.github.io/sql_reference/">https://mr-dai.github.io/sql_reference/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Robert Peng</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2017-03-05</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2017-03-05</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/SQL/">SQL</a></div><!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay-qrcode.png" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechat-qrcode.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/mongodb_crud/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">MongoDB CRUD Cookbook</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/java_collection_treemap/"><span class="level-item">Java TreeMap 源码解析</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://mr-dai.github.io/sql_reference/';
            this.page.identifier = 'sql_reference/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'robertpsblog' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="呆呆"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">呆呆</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>中国广州</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">49</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">9</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">35</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://www.zhihu.com/people/robert.peng" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="知乎" href="https://www.zhihu.com/people/robert.peng"><i class="fab fa-zhihu"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Mr-Dai"><i class="fab fa-github"></i></a></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bigtable/"><span class="tag">Bigtable</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GC/"><span class="tag">GC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go/"><span class="tag">Go</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gradle/"><span class="tag">Gradle</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Groovy/"><span class="tag">Groovy</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HBase/"><span class="tag">HBase</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hadoop/"><span class="tag">Hadoop</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hive-ThriftServer/"><span class="tag">Hive ThriftServer</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JVM/"><span class="tag">JVM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MIT-6-824/"><span class="tag">MIT 6.824</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mesos/"><span class="tag">Mesos</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Paxos/"><span class="tag">Paxos</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raft/"><span class="tag">Raft</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SQL/"><span class="tag">SQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spark/"><span class="tag">Spark</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spark-SQL/"><span class="tag">Spark SQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SparkSQL/"><span class="tag">SparkSQL</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows/"><span class="tag">Windows</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Yarn/"><span class="tag">Yarn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZooKeeper/"><span class="tag">ZooKeeper</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/etcd/"><span class="tag">etcd</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%BB%E4%BB%8E%E5%A4%87%E4%BB%BD/"><span class="tag">主从备份</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%B1%E8%AF%86/"><span class="tag">分布式共识</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E5%86%85%E5%AD%98/"><span class="tag">分布式内存</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8/"><span class="tag">分布式存储</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/"><span class="tag">分布式系统</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97/"><span class="tag">分布式计算</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C/"><span class="tag">团队协作</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9B%86%E7%BE%A4%E8%B5%84%E6%BA%90%E8%B0%83%E5%BA%A6/"><span class="tag">集群资源调度</span><span class="tag">2</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Basic-CRUD-Operations"><span class="level-left"><span class="level-item">1</span><span class="level-item">Basic CRUD Operations</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Selecting-All-Columns-from-Table"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">Selecting All Columns from Table</span></span></a></li><li><a class="level is-mobile" href="#Selecting-Designated-Columns-from-Table"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">Selecting Designated Columns from Table</span></span></a></li><li><a class="level is-mobile" href="#Selecting-Distinct-Values-of-Given-Columns"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">Selecting Distinct Values of Given Columns</span></span></a></li><li><a class="level is-mobile" href="#Using-the-WHERE-clause"><span class="level-left"><span class="level-item">1.4</span><span class="level-item">Using the WHERE clause</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#The-SQL-AND-OR-amp-NOT-Operators"><span class="level-left"><span class="level-item">1.4.1</span><span class="level-item">The SQL AND, OR &amp; NOT Operators</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Using-the-ORDER-BY-Clause"><span class="level-left"><span class="level-item">1.5</span><span class="level-item">Using the ORDER BY Clause</span></span></a></li><li><a class="level is-mobile" href="#Inserting-New-Record"><span class="level-left"><span class="level-item">1.6</span><span class="level-item">Inserting New Record</span></span></a></li><li><a class="level is-mobile" href="#Updating-Records"><span class="level-left"><span class="level-item">1.7</span><span class="level-item">Updating Records</span></span></a></li><li><a class="level is-mobile" href="#Deleting-Records"><span class="level-left"><span class="level-item">1.8</span><span class="level-item">Deleting Records</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Advanced-Query"><span class="level-left"><span class="level-item">2</span><span class="level-item">Advanced Query</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Limiting-Size-of-Result-Set"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">Limiting Size of Result Set</span></span></a></li><li><a class="level is-mobile" href="#Pattern-Matching-for-String-Field"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">Pattern Matching for String Field</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#SQL-Wildcard-Characters"><span class="level-left"><span class="level-item">2.2.1</span><span class="level-item">SQL Wildcard Characters</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Searching-for-Value-in-Given-Set"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">Searching for Value in Given Set</span></span></a></li><li><a class="level is-mobile" href="#Searching-for-Value-in-Given-Range"><span class="level-left"><span class="level-item">2.4</span><span class="level-item">Searching for Value in Given Range</span></span></a></li><li><a class="level is-mobile" href="#Giving-Aliase-to-Table-or-Column-of-Result-Set"><span class="level-left"><span class="level-item">2.5</span><span class="level-item">Giving Aliase to Table or Column of Result Set</span></span></a></li><li><a class="level is-mobile" href="#Using-the-JOIN-Operator"><span class="level-left"><span class="level-item">2.6</span><span class="level-item">Using the JOIN Operator</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Inner-Join"><span class="level-left"><span class="level-item">2.6.1</span><span class="level-item">Inner Join</span></span></a></li><li><a class="level is-mobile" href="#Left-Join"><span class="level-left"><span class="level-item">2.6.2</span><span class="level-item">Left Join</span></span></a></li><li><a class="level is-mobile" href="#Right-Join"><span class="level-left"><span class="level-item">2.6.3</span><span class="level-item">Right Join</span></span></a></li><li><a class="level is-mobile" href="#Full-Join"><span class="level-left"><span class="level-item">2.6.4</span><span class="level-item">Full Join</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Using-the-UNION-Operator"><span class="level-left"><span class="level-item">2.7</span><span class="level-item">Using the UNION Operator</span></span></a></li><li><a class="level is-mobile" href="#Using-the-GROUP-BY-Statement"><span class="level-left"><span class="level-item">2.8</span><span class="level-item">Using the GROUP BY Statement</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#The-HAVING-Clause"><span class="level-left"><span class="level-item">2.8.1</span><span class="level-item">The HAVING Clause</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Using-SQL-Comments"><span class="level-left"><span class="level-item">2.9</span><span class="level-item">Using SQL Comments</span></span></a></li><li><a class="level is-mobile" href="#Storing-Query-Result-in-other-Table"><span class="level-left"><span class="level-item">2.10</span><span class="level-item">Storing Query Result in other Table</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Using-the-SELECT-INTO-Statement-to-Create-a-New-Table"><span class="level-left"><span class="level-item">2.10.1</span><span class="level-item">Using the SELECT INTO Statement to Create a New Table</span></span></a></li><li><a class="level is-mobile" href="#Using-the-the-INSERT-INTO-SELECT-Statement"><span class="level-left"><span class="level-item">2.10.2</span><span class="level-item">Using the the INSERT INTO SELECT Statement</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#Table-Schema-and-Index-Management"><span class="level-left"><span class="level-item">3</span><span class="level-item">Table Schema and Index Management</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Creating-Database"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Creating Database</span></span></a></li><li><a class="level is-mobile" href="#Deleting-Database"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">Deleting Database</span></span></a></li><li><a class="level is-mobile" href="#Creating-Table"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">Creating Table</span></span></a></li><li><a class="level is-mobile" href="#Deleting-Table"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">Deleting Table</span></span></a></li><li><a class="level is-mobile" href="#Deleting-all-the-Records-in-a-Table"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">Deleting all the Records in a Table</span></span></a></li><li><a class="level is-mobile" href="#Modifying-Table-Schema"><span class="level-left"><span class="level-item">3.6</span><span class="level-item">Modifying Table Schema</span></span></a></li><li><a class="level is-mobile" href="#The-SQL-Constraints"><span class="level-left"><span class="level-item">3.7</span><span class="level-item">The SQL Constraints</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#The-NOT-NULL-Constraint"><span class="level-left"><span class="level-item">3.7.1</span><span class="level-item">The NOT NULL Constraint</span></span></a></li><li><a class="level is-mobile" href="#The-UNIQUE-Constraint"><span class="level-left"><span class="level-item">3.7.2</span><span class="level-item">The UNIQUE Constraint</span></span></a></li><li><a class="level is-mobile" href="#The-PRIMARY-KEY-Constraint"><span class="level-left"><span class="level-item">3.7.3</span><span class="level-item">The PRIMARY KEY Constraint</span></span></a></li><li><a class="level is-mobile" href="#The-FOREIGN-KEY-Constraint"><span class="level-left"><span class="level-item">3.7.4</span><span class="level-item">The FOREIGN KEY Constraint</span></span></a></li><li><a class="level is-mobile" href="#The-CHECK-Constraint"><span class="level-left"><span class="level-item">3.7.5</span><span class="level-item">The CHECK Constraint</span></span></a></li><li><a class="level is-mobile" href="#The-DEFAULT-Constraint"><span class="level-left"><span class="level-item">3.7.6</span><span class="level-item">The DEFAULT Constraint</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Creating-Index"><span class="level-left"><span class="level-item">3.8</span><span class="level-item">Creating Index</span></span></a></li><li><a class="level is-mobile" href="#Droping-Index"><span class="level-left"><span class="level-item">3.9</span><span class="level-item">Droping Index</span></span></a></li><li><a class="level is-mobile" href="#View"><span class="level-left"><span class="level-item">3.10</span><span class="level-item">View</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Creating-a-View"><span class="level-left"><span class="level-item">3.10.1</span><span class="level-item">Creating a View</span></span></a></li><li><a class="level is-mobile" href="#Updating-a-View"><span class="level-left"><span class="level-item">3.10.2</span><span class="level-item">Updating a View</span></span></a></li><li><a class="level is-mobile" href="#Dropping-a-View"><span class="level-left"><span class="level-item">3.10.3</span><span class="level-item">Dropping a View</span></span></a></li></ul></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/avatar.png" alt="Robert Peng&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2021 Robert Peng</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="我的 Github" href="https://github.com/Mr-Dai"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>